= Определение условий присоединения раздела

На присоединение раздела условия налагаются в двух случаях:

* пользователь хочет вывести в представлении данные, удовлетворяющие определенным условиям (например, документы, в которых количество листов больше 10);
* присоединенный раздел карточки содержит избыточную информацию (например, все сотрудники из полей множественного выбора карточки документа хранятся в секции [.keyword]*Сотрудники* этой карточки, при этом сотрудники из каждого конкретного поля определяются дополнительным признаком этой секции – целочисленным значением поля [.ph .uicontrol]*Тип*).

Определение условий присоединения производится после указания в диалоговом окне [.keyword .wintitle]*Присоединенный раздел* присоединяемых раздела и поля; для формирования условий присоединения предназначено поле *Условие* этого окна.

Можно задать несколько условий присоединения, объединенных по И или ИЛИ (для изменения оператора выделите его в дереве и нажмите кнопку [.ph .uicontrol]*Изменить*).

Чтобы добавить условие присоединения раздела, выполните следующие действия:

. [.ph .cmd]#Откройте окно [.keyword .wintitle]*Присоединенный раздел* и нажмите кнопку image:img/Buttons/Select.png[image] поля [.ph .uicontrol]*Условие*. #
+
Будет открыто диалоговое окно [.keyword .wintitle]*Условия присоединения*.
. [.ph .cmd]#В окне [.keyword .wintitle]*Условия присоединения* нажмите кнопку image:img/Buttons/Add.png[image] [.ph .uicontrol]*Добавить*. При этом откроется диалог для добавления условия. #
+
image::img/Conditions_for_Accession_Section.png[[.fig--title-label]#Рис. 1. # Диалоговое окно "Условия присоединения"]
. [.ph .cmd]#В поле [.ph .uicontrol]*Условие* окна [.keyword .wintitle]*Условия присоединения* выберите из списка один из операторов, приведенных в таблице.#
+
[cols=",",options="header",]
|===
|Оператор |Значение оператора
|[.keyword]*==* |равно
|[.keyword]*!=* |не равно
|[.keyword]*STREQUALS * |равно строке
|[.keyword]*NOT STREQUALS* |не равно строке
|[.keyword]* ISNULL * |пустое значение
|[.keyword]* NOT ISNULL * |непустое значение
|[.keyword]*>* |больше
|[.keyword]*>=* |больше или равно
|[.keyword]*<* |меньше
|[.keyword]*<=* |меньше или равно
|[.keyword]* ONEOF * |содержится в перечислении
|[.keyword]* NOT ONEOF * |не содержится в перечислении
|===

Описание, приводимое в пунктах 4–5 справедливо, только если в поле *Условие* выбран один из операторов: [.keyword]*==*, [.keyword]*!=*, [.keyword]*STREQUALS*, [.keyword]*NOT STREQUALS*, [.keyword]*>*, [.keyword]*>=*, [.keyword]*<*, [.keyword]*<=*.

[start=4]
. [.ph .cmd]#Нажмите кнопку image:img/Buttons/Select.png[image] поля [.ph .uicontrol]*Аргумент1*. В открывшемся диалоговом окне [.keyword .wintitle]*Аргумент условия* установите переключатель в положение [.kbd .ph .userinput]`Поле раздела` и выберите из числа доступных раздел и поле, на которые накладывается условие. Выбор раздела осуществляется в окне [.keyword .wintitle]*Выбор раздела* (открывается по нажатию кнопки image:img/Buttons/Select.png[image] поля); доступны для выбора оригинальный и все присоединенные к нему разделы. Поле, на которое накладывается условие, выбирается из раскрывающегося списка. Нажмите кнопку [.ph .uicontrol]*ОК*. #
. [.ph .cmd]#В окне [.keyword .wintitle]*Условия присоединения* нажмите кнопку image:img/Buttons/Select.png[image] поля [.ph .uicontrol]*Аргумент2*. В открывшемся диалоговом окне [.keyword .wintitle]*Аргумент условия* установите переключатель в положение [.kbd .ph .userinput]`Значение` и выберите из раскрывающегося списка тип значения аргумента. Ведите значение в одноименное поле способом, зависящим от его типа. Нажмите кнопку [.ph .uicontrol]*ОК*. #
+
image::img/Argument_Conditions.png[[.fig--title-label]#Рис. 2. # Окно "Аргумент условия"]

Описание, приводимое в этом пункте справедливо, только если в поле [.ph .uicontrol]*Условие* выбран оператор [.keyword]*ISNULL* или [.keyword]*NOT ISNULL*.

[start=6]
. [.ph .cmd]#Укажите в поле [.ph .uicontrol]*Аргумент1* поле из доступного раздела, значение которого будет сравниваться с пустым значением. #

Описание, приводимое в 7–10 справедливо, только если в поле [.ph .uicontrol]*Условие* выбран оператор [.keyword]*ONEOF* или [.keyword]*NOT ONEOF*.

[start=7]
. [.ph .cmd]#Укажите в поле [.ph .uicontrol]*Аргумент1* поле из доступного раздела, значение которого будет сравниваться (по [.keyword]*ИЛИ*) со значениями поля [.ph .uicontrol]*Аргумента2*. #
. [.ph .cmd]#Нажмите кнопку image:img/Buttons/Add.png[image] [.ph .uicontrol]*Добавить* поля [.ph .uicontrol]*Аргумент2* и в открывшемся диалоговом окне [.keyword .wintitle]*Аргумент условия* введите нужное значение (переключатель в положении [.kbd .ph .userinput]`Значение`) или укажите то поле доступного раздела (переключатель в положении [.kbd .ph .userinput]`Поле раздела`), с значением которого будет проводиться сравнение. Нажмите кнопку [.ph .uicontrol]*ОК*. #
. [.ph .cmd]#Таким же способом добавьте в поле [.ph .uicontrol]*Аргумент2* остальные значения перечисления. #
. [.ph .cmd]#Изменить или удалить ошибочно введенные значения поля [.ph .uicontrol]*Аргумент2* можно, выделив их в списке и нажав кнопку [.ph .uicontrol]*Изменить* или [.ph .uicontrol]*Удалить* соответственно. #
+
image::img/Conditions_for_Accession.png[[.fig--title-label]#Рис. 3. # Окно "Условие присоединения" для оператора ONEOF]

*На уровень выше:* xref:../topics/SettingView_Setting_AdminDV.adoc[Дополнительные возможности настройки]
