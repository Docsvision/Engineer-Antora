:view: Группировки

= Настройка группировок данных представления

Группировка данных представления производится по одной из колонок, при этом все карточки, содержащие одинаковые значения в поле колонки группировки, объединяются в одну группу.

Содержимое группы может быть скрыто или отображено при помощи значков `+` и `-`, расположенных рядом с названием группы. Количество последовательно выполняемых группировок для одного представления может составлять от одной до четырех: сначала происходит группировка по первой из них, затем (уже внутри групп) -- по второй и т. д.

Результат группировки данных представления аналогичен возможностям группировки, которая производится вручную, единственное отличие заключается в том, что созданные для представления настройки сохраняются и применяются к данным представления автоматически.

== Пример группировки карточек по ответственному исполнителю

В данном примере рассматривается группировка карточек по ответственному исполнителю для упрощения поиска документов по этому свойству.

Для каждого уровня группировок и отдельно для всей таблицы представления возможна агрегация строк (суммарные данные), позволяющая получать численные результаты по данным, содержащимся в строках таблицы. Например, в представлении может отображаться, сколько документов отправлено какому-либо пользователю.

.Чтобы настроить для представления группировку по какой-либо из колонок:
include::partial$excerpts.adoc[tags=steps]
+
.Окно "Группировки". Пример группировки по полю "Вид документа"
image::Grouping_Data_View.png[Окно "Группировки". Пример группировки по полю "Вид документа"]
+
. Настройте параметры группировки списка данных по нужным полям в данном представлении (группировок может быть от одной до четырех).
. Укажите параметры группировки:
* Выберите в списке группировки первый элемент _Группировка: Нет_ и в раскрывающемся списке поля _По колонке_ выберите нужное значение (в примере это поле `Ответственный исполнитель`).
* Переключатель *По возрастанию / По убыванию* позволяет располагать группы в прямом или обратном порядке. Если это текст -- по алфавиту от А до Я и наоборот, если дата или числа -- в порядке их возрастания или убывания.
* Если флаг `*Показывать раскрытой*` установлен в момент применения представления (например, при открытии папки) группировка будет показана пользователю раскрытой. Если флаг неактивен, группировка будет показана свернутой.
+
[NOTE]
====
Если для некоторой группировки установлен флаг `*Показывать раскрытой*`, то раскрытыми будут показаны и все группировки верхних по отношению к ней уровней. Так, в примере на рисунке группировка по полю _Ответственный исполнитель_ будет показана развернутой независимо от собственных настроек.
====
+
. Таким же образом настройте группировки по другим полям.
. При необходимости (например, чтобы отобразить сведения о количестве полученных (отправленных) адресатом документов) произведите агрегацию строк.
+
* В разделе _Агрегация_ из раскрывающегося списка _Функция_ выберите функцию агрегирования.
* В раскрывающемся списке _По колонке_ выберите колонку, по которой будет подсчитываться количество документов.
* Задайте текст, который будет отображаться в заголовке строки агрегации. Для заголовка можно xref:view-localize.adoc[установить] локализованное название.
+
. Для большей наглядности можно установить специальный стиль строки заголовка группы, воспользовавшись опциями секции _Отображение_:
+
* Шрифт заголовка, его начертание и размер выбираются в окне, открывающемся при нажатии кнопки *Шрифт*.
* Цвет фона строки заголовка выбирается в окне _Цвет_. Окно вызывается установкой флага `*Специальный цвет фона*` и нажатием кнопки image:buttons/Select.png[Три точки] справа от него.
* Установите флаг `*Специальная высота строки*`, если хотите сделать высоту строки заголовка отличной от высоты строки записи. Высота строки заголовка устанавливается при помощи счетчика и измеряется в твипсах (1 твипс=1/20 пикселя).
+
.  Нажмите кнопку *Закрыть* в окне _Группировки_.
+
Результат группировки будет выглядеть, как показано на рисунке.
+
.Результат группировки по полю "Вид документа"
image::Example_of_Group.png[Результат группировки по полю "Вид документа"]

== Снятие группировки

.Чтобы отменить группировку карточек в области просмотра содержимого папки:
include::partial$excerpts.adoc[tags=steps]
+
.Пример настройки группировки по виду документа
image::Grouping_Data_View.png[Пример настройки группировки по виду документа]
+
//tag::un[]
.  В соответствующих раскрывающихся списках окна _{view}_ выберите пункт *_Нет_*.
.  Чтобы отказаться от
ifeval::["{view}" == "Группировки"]
группировок,
endif::[]
ifeval::["{view}" == "Сортировки"]
сортировок,
endif::[]
нажмите кнопку *Очистить*.
.  Чтобы сохранить внесенные изменения и закрыть диалоговое окно, нажмите кнопку *Закрыть*.
//end::un[]
