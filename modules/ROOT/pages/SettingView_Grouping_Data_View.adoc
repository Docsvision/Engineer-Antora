= Настройка группировок данных представления

Группировка данных представления производится по одной из колонок, при этом все карточки, содержащие одинаковые значения в поле колонки группировки, объединяются в одну группу. Содержимое группы может скрываться/отображаться при помощи значков "+" и "--", расположенных рядом с названием группы. Количество последовательно выполняемых группировок для одного представления может составлять от одной до четырех: вначале происходит группировка по первой из них, затем (уже внутри групп) -- по второй и т. д.

Результат группировки данных представления аналогичен возможностям группировки, которая производится вручную, единственное отличие заключается в том, что созданные для представления настройки сохраняются и применяются к данным представления автоматически.

Рассмотрим пример группировки карточек по ответственному исполнителю для упрощения поиска документа по этому свойству.

Для каждого уровня группировок и отдельно для всей таблицы представления возможна агрегация строк (суммарные данные), позволяющая получать численные результаты по данным, содержащимся в строках таблицы. Например, в представлении может отображаться, сколько документов отправлено какому-либо пользователю.

Чтобы настроить для представления группировку по какой-либо из колонок, выполните следующие действия:

. Откройте _РМА_ выберите команду меню *Вид* > *Текущее представление* > *Настройка представлений*.
+
Будет открыто окно *Представления*.
. Выберите нужное представление и нажмите кнопку *Изменить*.
+
Будет открыто окно xref:view-settings-guide#task_y23_1kg_3n__view_settings[*Настройки представлений <название>*].
. Нажмите кнопку *Группировки*.
+
Будет открыто диалоговое окно *Группировки*.

image::Grouping_Data_View.png[Окно "Группировки". Пример группировки по полю "Вид документа"]
. Настройте параметры группировки списка данных по нужным полям в данном представлении (группировок может быть от одной до четырех).
. Укажите параметры группировки: #
* Выберите в списке группировки первый элемент *Группировка: Нет* и в раскрывающемся списке поля *По колонке* выберите нужное значение (в примере это поле `Ответственный исполнитель`).
* Переключатель *По возрастанию/По убыванию* позволяет располагать группы в прямом или обратном порядке: если это текст -- по алфавиту в прямом или обратном направлении, если дата или числа -- в порядке их возрастания или убывания.
* При установленном флажке *Показывать раскрытой* в момент применения представления (например, при открытии папки) группировка будет показана пользователю раскрытой, при снятом -- свернутой.
+
[NOTE]
====
Если для некоторой группировки установлен флаг *Показывать раскрытой*, то раскрытыми будут показаны и все группировки верхних по отношению к ней уровней. Так, в примере на рисунке группировка по полю `Ответственный исполнитель` будет показана развернутой не зависимо от собственных настроек.
====
.  Таким же образом настройте группировки по другим полям.
. При необходимости (например, чтобы отобразить сведения о количестве полученных (отправленных) адресатом документов) произведите агрегацию строк.
* В разделе *Агрегация* из раскрывающегося списка *Функция* выберите функцию агрегирования.
* В раскрывающемся списке *По колонке* выберите колонку, по которой будет подсчитываться количество документов.
* Задайте текст, который будет отображаться в заголовке строки агрегации. Для заголовка можно установить локализованное название (см. xref:ViewLocalization.adoc[Локализация представлений]).
. Для большей наглядности можно установить специальный стиль строки заголовка группы, воспользовавшись опциями секции *Отображение*:
* шрифт заголовка, его начертание и размер выбираются в окне *Шрифт*, открывающемся при нажатии одноименной кнопки;
* цвет фона строки заголовка выбирается в окне *Цвет*, для вызова которого следует установить флаг *Специальный цвет фона* и нажать кнопку image:buttons/Select.png[image] справа от него;
* установите флаг *Специальная высота строки*, если хотите сделать высоту строки заголовка отличной от высоты строки записи; высота строки заголовка устанавливается при помощи счетчика и измеряется в твипсах (1 твипс=1/20 пикселя).
.  Нажмите кнопку *Закрыть* в окне *Группировки*.

Результат группировки будет выглядеть, как показано на рисунке.

image::Example_of_Group.png[Результат группировки по полю "Вид документа"]

