= Настройка группировок данных представления

Группировка данных представления производится по одной из колонок, при этом все карточки, содержащие одинаковые значения в поле колонки группировки, объединяются в одну группу. Содержимое группы может скрываться/отображаться при помощи значков "+" и "–", расположенных рядом с названием группы. Количество последовательно выполняемых группировок для одного представления может составлять от одной до четырех: вначале происходит группировка по первой из них, затем (уже внутри групп) – по второй и т. д.

Результат группировки данных представления аналогичен возможностям группировки, которая производится вручную, единственное отличие заключается в том, что созданные для представления настройки сохраняются и применяются к данным представления автоматически.

Рассмотрим пример группировки карточек по ответственному исполнителю для упрощения поиска документа по этому свойству.

Для каждого уровня группировок и отдельно для всей таблицы представления возможна агрегация строк (суммарные данные), позволяющая получать численные результаты по данным, содержащимся в строках таблицы. Например, в представлении может отображаться, сколько документов отправлено какому-либо пользователю.

Чтобы настроить для представления группировку по какой-либо из колонок, выполните следующие действия:

. [.ph .cmd]#Откройте [.dfn .term]_РМА_ выберите команду меню [.ph .menucascade]#[.ph .uicontrol]*Вид* > [.ph .uicontrol]*Текущее представление* > [.ph .uicontrol]*Настройка представлений*#. #
+
Будет открыто окно [.keyword .wintitle]*Представления*.
. [.ph .cmd]#Выберите нужное представление и нажмите кнопку [.ph .uicontrol]*Изменить*. #
+
Будет открыто окно xref:SettingView_Order_Settings.html#task_y23_1kg_3n__view_settings[[.keyword .wintitle]*Настройки представлений <название>*].
. [.ph .cmd]#Нажмите кнопку [.ph .uicontrol]*Группировки*.#
+
Будет открыто диалоговое окно [.keyword .wintitle]*Группировки*.

image::img/Grouping_Data_View.png[[.fig--title-label]##Рис. 1. ##Окно "Группировки". Пример группировки по полю "Вид документа"]
. [.ph .cmd]#Настройте параметры группировки списка данных по нужным полям в данном представлении (группировок может быть от одной до четырех). #
. [.ph .cmd]#Укажите параметры группировки: #
* Выберите в списке группировки первый элемент [.keyword]*Группировка: Нет* и в раскрывающемся списке поля [.ph .uicontrol]*По колонке* выберите нужное значение (в примере это поле [.kbd .ph .userinput]`Ответственный исполнитель`).
* Переключатель [.ph .uicontrol]*По возрастанию/По убыванию* позволяет располагать группы в прямом или обратном порядке: если это текст – по алфавиту в прямом или обратном направлении, если дата или числа – в порядке их возрастания или убывания.
* При установленном флажке [.ph .uicontrol]*Показывать раскрытой* в момент применения представления (например, при открытии папки) группировка будет показана пользователю раскрытой, при снятом – свернутой.
+
[NOTE]
====
[.note__title]#Прим.:# Если для некоторой группировки установлен флаг [.ph .uicontrol]*Показывать раскрытой*, то раскрытыми будут показаны и все группировки верхних по отношению к ней уровней. Так, в примере на рисунке группировка по полю [.kbd .ph .userinput]`Ответственный исполнитель` будет показана развернутой не зависимо от собственных настроек.
====
. [.ph .cmd]# Таким же образом настройте группировки по другим полям. #
. [.ph .cmd]#При необходимости (например, чтобы отобразить сведения о количестве полученных (отправленных) адресатом документов) произведите агрегацию строк. #
* В разделе [.keyword]*Агрегация* из раскрывающегося списка [.ph .uicontrol]*Функция* выберите функцию агрегирования.
* В раскрывающемся списке [.ph .uicontrol]*По колонке* выберите колонку, по которой будет подсчитываться количество документов.
* Задайте текст, который будет отображаться в заголовке строки агрегации. Для заголовка можно установить локализованное название (см. link:ViewLocalization.adoc[Локализация представлений]).
. [.ph .cmd]#Для большей наглядности можно установить специальный стиль строки заголовка группы, воспользовавшись опциями секции [.keyword]*Отображение*:#
* шрифт заголовка, его начертание и размер выбираются в окне [.keyword .wintitle]*Шрифт*, открывающемся при нажатии одноименной кнопки;
* цвет фона строки заголовка выбирается в окне [.keyword .wintitle]*Цвет*, для вызова которого следует установить флаг [.ph .uicontrol]*Специальный цвет фона* и нажать кнопку image:img/Buttons/Select.png[image] справа от него;
* установите флаг [.ph .uicontrol]*Специальная высота строки*, если хотите сделать высоту строки заголовка отличной от высоты строки записи; высота строки заголовка устанавливается при помощи счетчика и измеряется в твипсах (1 твипс=1/20 пикселя).
. [.ph .cmd]# Нажмите кнопку [.ph .uicontrol]*Закрыть* в окне [.keyword .wintitle]*Группировки*. #

Результат группировки будет выглядеть, как показано на рисунке.

image::img/Example_of_Group.png[[.fig--title-label]#Рис. 2. # Результат группировки по полю "Вид документа"]

* *xref:../topics/SettingView_Ungroup.adoc[Отмена группировки]* +

*На уровень выше:* xref:../topics/SettingView_Order_Settings.adoc[Настройка представлений]
